<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Manifold de Sinkhorn</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" />
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"
      onload="renderMathInElement(document.body, { delimiters: [
        { left: '$$', right: '$$', display: true },
        { left: '$', right: '$', display: false }
      ]})"></script>
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }

      body {
        background: #111;
        color: #ddd;
        font-family: 'Segoe UI', system-ui, sans-serif;
        display: flex;
        flex-direction: row;
        height: 100vh;
        overflow: hidden;
      }

      #canvas-wrapper {
        flex: 1 1 60%;
        min-width: 0;
        height: 100vh;
      }

      #canvas-wrapper canvas {
        display: block;
        width: 100% !important;
        height: 100% !important;
      }

      #explanation {
        flex: 0 0 40%;
        height: 100vh;
        overflow-y: auto;
        padding: 2.5rem 2rem;
        border-left: 1px solid #2a2a2a;
        line-height: 1.7;
      }

      #explanation h2 {
        font-size: 1rem;
        font-weight: 700;
        color: #fff;
        margin-bottom: 0.5rem;
      }

      #explanation .subtitle {
        color: #aaa;
        margin-bottom: 1.25rem;
        font-size: 0.88rem;
      }

      #explanation .subtitle span.hi       { color: #e06c75; font-weight: 600; }
      #explanation .subtitle span.hi-green { color: #98c379; font-weight: 600; }

      #explanation hr {
        border: none;
        border-top: 1px solid #333;
        margin-bottom: 1.25rem;
      }

      #explanation h3 {
        font-size: 0.95rem;
        font-weight: 700;
        color: #fff;
        margin-bottom: 1rem;
      }

      #explanation ul {
        list-style: none;
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      #explanation ul li {
        font-size: 0.875rem;
        color: #bbb;
        padding-left: 1rem;
        border-left: 2px solid #333;
      }

      #explanation ul li strong { color: #e5c07b; }

      .katex { font-size: 0.9em; }
    </style>
  <script type="module" crossorigin src="./index-ywxk7ftb.js"></script></head>
  <body>
    <div id="canvas-wrapper"></div>
    <section id="explanation">
      <h2>Visualización: Estabilización mediante el Manifold de Sinkhorn</h2>
      <p class="subtitle">
        Esta animación representa la proyección de matrices de pesos aleatorias
        (<span class="hi">esferas rojas</span>) hacia una estructura
        <strong>doblemente estocástica</strong>
        (<span class="hi-green">esferas verdes</span>) mediante el algoritmo de Sinkhorn.
      </p>
      <hr />
      <h3>Importancia Técnica en mHC</h3>
      <ul>
        <li>
          <strong>Conservación de Energía:</strong> Las esferas verdes se sitúan en un manifold
          restringido donde la suma de filas y columnas es la unidad ($\sum = 1$). Esto sustituye
          la suma residual convencional $x + f(x)$, evitando que la magnitud de la señal crezca
          exponencialmente y permitiendo el entrenamiento de redes con miles de capas.
        </li>
        <li>
          <strong>Integridad Dimensional:</strong> Al forzar que cada columna sume exactamente 1,
          el algoritmo garantiza que ninguna dimensión de la entrada sea ignorada. Esto previene
          el <strong>rank collapse</strong> (colapso de rango), obligando a la red a utilizar
          toda su capacidad representacional en cada paso.
        </li>
        <li>
          <strong>Auto-normalización Estructural:</strong> El diseño impone un rango de valores
          constante $(0\text{–}1)$, eliminando la necesidad de capas de normalización externas
          (<em>LayerNorm</em>). Esto resulta en un flujo de gradientes más limpio y una estabilidad
          numérica intrínseca durante el ajuste de los pesos.
        </li>
      </ul>
    </section>
    
  </body>
</html>
